(function(e){function t(t){for(var a,n,r=t[0],i=t[1],s=t[2],b=0,m=[];b<r.length;b++)n=r[b],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&m.push(o[n][0]),o[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(m.length)m.shift()();return l.push.apply(l,s||[]),c()}function c(){for(var e,t=0;t<l.length;t++){for(var c=l[t],a=!0,r=1;r<c.length;r++){var i=c[r];0!==o[i]&&(a=!1)}a&&(l.splice(t--,1),e=n(n.s=c[0]))}return e}var a={},o={app:0},l=[];function n(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=a,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(c,a,function(t){return e[t]}.bind(null,a));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var d=i;l.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"11d3":function(e,t,c){"use strict";c("551b")},"551b":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);c("a79d");var a=c("8bbf"),o=c("cebe"),l=c.n(o);const n={class:"navbar bg-primary p-fixed",style:{"z-index":"1000",width:"100%",top:"0"}},r={class:"navbar-section p-2 container grid-sm"},i=Object(a["createElementVNode"])("span",{class:"navbar-brand text-bold mr-2",style:{color:"#fff!important"}},"知乎日报",-1),s=Object(a["createTextVNode"])("Home"),d=Object(a["createTextVNode"])("About"),b=Object(a["createElementVNode"])("span",{style:{"flex-grow":"1"}},null,-1),m=Object(a["createElementVNode"])("div",{id:"navbar-item",class:"d-flex"},null,-1),u={class:"container grid-sm px-0"};function p(e,t){const c=Object(a["resolveComponent"])("router-link"),o=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",r,[i,Object(a["createVNode"])(c,{to:"/",class:"btn btn-link",style:{color:"#fff!important"}},{default:Object(a["withCtx"])(()=>[s]),_:1}),Object(a["createVNode"])(c,{to:"/about",class:"btn btn-link",style:{color:"#fff!important"}},{default:Object(a["withCtx"])(()=>[d]),_:1}),b,m])]),Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])(o,null,{default:Object(a["withCtx"])(({Component:t})=>[(Object(a["openBlock"])(),Object(a["createBlock"])(a["KeepAlive"],null,[e.$route.meta.keepAlive?(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(t),{key:e.$route.path})):Object(a["createCommentVNode"])("",!0)],1024)),e.$route.meta.keepAlive?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(t),{key:0}))]),_:1})])],64)}c("11d3");const O={};O.render=p;var j=O,g=c("6389");c("ddb0");const v={key:1,style:{padding:"16px 16px"}},y={class:"text-bold h3 mb-2",style:{"margin-top":"24px"}},h=["disabled"],k=Object(a["createElementVNode"])("div",{class:"modal-overlay"},null,-1),f={class:"modal-container"},V={class:"modal-header"},E=Object(a["createElementVNode"])("div",{class:"modal-title h5"},"查看历史日报",-1),N={class:"modal-body"},B={class:"modal-footer"};function x(e,t,c,o,l,n){const r=Object(a["resolveComponent"])("loading-circle"),i=Object(a["resolveComponent"])("story-card"),s=Object(a["resolveComponent"])("router-link"),d=Object(a["resolveComponent"])("calendar");return o.loading&&0===o.daily.length?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",v,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.daily,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:e.date},[Object(a["createElementVNode"])("div",y,Object(a["toDisplayString"])(e.date),1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.stories,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:e.id,to:"/story/"+e.id,custom:""},{default:Object(a["withCtx"])(({navigate:t})=>[Object(a["createVNode"])(i,{id:e.id,title:e.title,url:e.url,hint:e.hint,image:e.images[0],hue:e.hue,onClick:t},null,8,["id","title","url","hint","image","hue","onClick"])]),_:2},1032,["to"]))),128))],64))),128)),Object(a["withDirectives"])(Object(a["createElementVNode"])("button",{ref:"loadMoreBtn",class:Object(a["normalizeClass"])(["btn btn-lg btn-primary d-block my-2",{loading:o.loading}]),style:{width:"100%"},disabled:o.loading,onClick:t[0]||(t[0]=(...e)=>o.loadStories&&o.loadStories(...e))},"加载更多",10,h),[[a["vShow"],o.daily.length]]),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["modal modal-sm",{active:o.calendarDialogVisible}])},[k,Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("button",{class:"btn btn-clear float-right",onClick:t[1]||(t[1]=e=>o.calendarDialogVisible=!1)}),E]),Object(a["createElementVNode"])("div",N,[Object(a["createVNode"])(d,{onClickDate:o.calendarClick},null,8,["onClickDate"])]),Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=e=>o.calendarDialogVisible=!1)},"关闭")])])],2),(Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#navbar-item"},["/"===e.$route.path?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,class:"btn btn-link",style:{color:"#fff!important"},onClick:t[3]||(t[3]=e=>o.calendarDialogVisible=!0)},"查看历史日报")):Object(a["createCommentVNode"])("",!0)]))]))}const S={class:"card mb-2 c-hand"},C={class:"card-body"},D=["title"],w={class:"card-subtitle text-gray pr-1"};function A(e,t,c,o,l,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",S,[Object(a["createElementVNode"])("div",C,[Object(a["createElementVNode"])("div",{class:"float-right s-rounded",style:Object(a["normalizeStyle"])({"background-image":`url(${c.image})`,width:"54px",height:"54px"})},null,4),Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",{class:"card-title h5 text-ellipsis pr-1",title:c.title},Object(a["toDisplayString"])(c.title),9,D),Object(a["createElementVNode"])("div",w,Object(a["toDisplayString"])(c.hint),1)])])])}var L={props:{id:Number,title:String,url:String,hint:String,image:String,hue:String}};L.render=A;var M=L;const H={style:{margin:"32px 0"}},$=Object(a["createElementVNode"])("div",{class:"loading loading-lg my-2"},null,-1),T=Object(a["createElementVNode"])("div",{class:"text-center text-primary"},[Object(a["createElementVNode"])("small",null,"Loading")],-1),F=[$,T];function _(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,F)}const q={};q.render=_;var P=q;const z={class:"calendar"},I={class:"calendar-nav navbar"},R={class:"navbar-primary"},Y={class:"calendar-container"},W={class:"calendar-header"},U={class:"calendar-body"},Z=Object(a["createElementVNode"])("button",{class:"date-item disabled"},null,-1),Q=[Z],G=["onClick"],J=Object(a["createElementVNode"])("button",{class:"date-item disabled"},null,-1),K=[J];function X(e,t,c,o,l,n){const r=Object(a["resolveComponent"])("mdi");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",z,[Object(a["createElementVNode"])("div",I,[Object(a["createElementVNode"])("button",{class:"btn btn-action btn-link btn-lg",onClick:t[0]||(t[0]=(...e)=>o.prevMonth&&o.prevMonth(...e))},[Object(a["createVNode"])(r,{color:"#3b4351",icon:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},null,8,["icon"])]),Object(a["createElementVNode"])("div",R,Object(a["toDisplayString"])(o.header),1),Object(a["createElementVNode"])("button",{class:"btn btn-action btn-link btn-lg",onClick:t[1]||(t[1]=(...e)=>o.nextMonth&&o.nextMonth(...e))},[Object(a["createVNode"])(r,{color:"#3b4351",icon:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},null,8,["icon"])])]),Object(a["createElementVNode"])("div",Y,[Object(a["createElementVNode"])("div",W,[(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],(e,t)=>Object(a["createElementVNode"])("div",{key:t,class:"calendar-date"},Object(a["toDisplayString"])(e),1)),64))]),Object(a["createElementVNode"])("div",U,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.firstWeekly,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"calendar-date prev-month"},Q))),128)),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.lastDay,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"calendar-date"},[Object(a["createElementVNode"])("button",{class:"date-item",onClick:t=>o.clickDate(e)},Object(a["toDisplayString"])(e),9,G)]))),128)),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(6-o.lastWeekly,e=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:e,class:"calendar-date next-month"},K))),128))])])])}const ee=["fill","width","height"],te=["d"];function ce(e,t,c,o,l,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])("svg",{fill:c.color,width:o.size,height:o.size,viewBox:"0 0 24 24"},[Object(a["createElementVNode"])("path",{d:c.icon},null,8,te)],8,ee)}var ae={props:{color:String,icon:String,xSmall:{type:Boolean,default:!1},small:{type:Boolean,default:!1},medium:{type:Boolean,default:!1},large:{type:Boolean,default:!1},xLarge:{type:Boolean,default:!1}},setup(e){return{size:Object(a["computed"])(()=>[24,12,16,28,36,40][["xSmall","small","medium","large","xLarge"].map(t=>e[t]).indexOf(!0)+1])}}};ae.render=ce;var oe=ae,le={components:{Mdi:oe},props:{year:{type:Number,default:()=>(new Date).getFullYear()},month:{type:Number,default:()=>(new Date).getMonth()},day:{type:Number,default:()=>(new Date).getDate()}},setup(e,t){const c=Object(a["ref"])(e.year),o=Object(a["ref"])(e.month),l=Object(a["ref"])(e.day),n=new Date(c.value,o.value,l.value),r=()=>{c.value=n.getFullYear(),o.value=n.getMonth(),l.value=n.getDate()},i=Object(a["computed"])(()=>`${c.value} 年 ${o.value+1} 月`),s=Object(a["computed"])(()=>new Date(c.value,o.value+1,0).getDate()),d=Object(a["computed"])(()=>new Date(c.value,o.value,1).getDay()),b=Object(a["computed"])(()=>new Date(c.value,o.value+1,0).getDay());Object(a["watch"])(c,e=>{t.emit("update:year",e),n.setFullYear(e),r()}),Object(a["watch"])(o,e=>{t.emit("update:month",e),n.setMonth(e),r()}),Object(a["watch"])(l,e=>{t.emit("update:day",e),n.setDate(e),r()});const m=()=>o.value--,u=()=>o.value++,p=e=>t.emit("clickDate",new Date(c.value,o.value,e));return{date:n,prevMonth:m,nextMonth:u,header:i,lastDay:s,firstWeekly:d,lastWeekly:b,clickDate:p}}};le.render=X;var ne=le,re={components:{StoryCard:M,LoadingCircle:P,Calendar:ne},setup(){const{proxy:e}=Object(a["getCurrentInstance"])(),t=Object(a["reactive"])([]),c=Object(a["ref"])(!1),o=Object(a["ref"])(new Date),l=Object(a["ref"])(null),n=Object(a["ref"])(!1),r=async()=>{c.value=!0;const a=new Date(o.value.getTime()+864e5),l=e=>e.toString().padStart(2,0),n=await e.$http.get("news/before/"+(a.getFullYear()+l(a.getMonth()+1)+l(a.getDate())));t.push({date:`${o.value.getFullYear()} 年 ${o.value.getMonth()+1} 月 ${o.value.getDate()} 日`,stories:n.data.stories}),o.value.setDate(o.value.getDate()-1),c.value=!1},i=e=>{e.getTime()>Date.now()||(o.value=e,n.value=!1,t.length=0,r())};return Object(a["onMounted"])(()=>{r()}),{loading:c,daily:t,nextLoadDate:o,loadStories:r,loadMoreBtn:l,calendarDialogVisible:n,calendarClick:i}}};re.render=x;var ie=re;const se={style:{padding:"16px 16px"}},de=Object(a["createElementVNode"])("h4",null,"关于",-1),be=Object(a["createElementVNode"])("p",null,"Vue 3 试水项目，知乎日报网页版。",-1),me=Object(a["createElementVNode"])("p",null,[Object(a["createTextVNode"])("API 文档来自"),Object(a["createElementVNode"])("a",{href:"https://www.jianshu.com/p/ee556871da51",target:"_blank"},"知乎日报 API 分析"),Object(a["createTextVNode"])("，本项目与知乎无关。")],-1),ue=Object(a["createElementVNode"])("p",null,[Object(a["createElementVNode"])("a",{href:"https://github.com/TransparentLC/vue3-zhihu-daily",target:"_blank"},"GitHub 仓库")],-1),pe=[de,be,me,ue];function Oe(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",se,pe)}const je={};je.render=Oe;var ge=je;const ve={class:"text-bold h4 text-light"},ye={class:"text-tiny text-light text-right",style:{opacity:".7"}},he={style:{padding:"0 16px"}},ke=Object(a["createElementVNode"])("div",{class:"modal-overlay"},null,-1),fe={class:"modal-container"},Ve={class:"modal-header"},Ee=Object(a["createElementVNode"])("div",{class:"modal-title h5"},"评论",-1),Ne={class:"modal-body"},Be={class:"text-bold text-large my-2"},xe={class:"text-bold text-large my-2"},Se={class:"modal-footer"},Ce={class:"btn btn-sm bg-primary d-flex ml-1",style:{"align-items":"center"}},De={class:"ml-1"},we={class:"ml-1"};function Ae(e,t,c,o,l,n){const r=Object(a["resolveComponent"])("loading-circle"),i=Object(a["resolveComponent"])("question"),s=Object(a["resolveComponent"])("comment"),d=Object(a["resolveComponent"])("mdi");return o.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])({height:"320px","background-image":`url(${o.image})`,"background-position":"center","background-size":"cover"}),class:"p-relative"},[Object(a["createElementVNode"])("div",{style:Object(a["normalizeStyle"])({bottom:0,padding:"1em","padding-top":"3em",background:"linear-gradient(rgba(0,0,0,0),rgba(0,0,0,.5),rgba(0,0,0,.7))",width:"100%"}),class:"p-absolute"},[Object(a["createElementVNode"])("div",ve,Object(a["toDisplayString"])(o.title),1),Object(a["createElementVNode"])("div",ye,Object(a["toDisplayString"])(o.credit),1)],4)],4),Object(a["createElementVNode"])("div",he,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.questions,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:t,title:e.title,author:e.author,bio:e.bio,avatar:e.avatar,origin:e.origin,discuss:e.discuss,content:e.content},null,8,["title","author","bio","avatar","origin","discuss","content"]))),128))]),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["modal",{active:o.commentDialog.visible}])},[ke,Object(a["createElementVNode"])("div",fe,[Object(a["createElementVNode"])("div",Ve,[Object(a["createElementVNode"])("button",{class:"btn btn-clear float-right",onClick:t[0]||(t[0]=e=>o.commentDialog.visible=!1)}),Ee]),Object(a["createElementVNode"])("div",Ne,[o.commentDialog.loading?(Object(a["openBlock"])(),Object(a["createBlock"])(r,{key:0})):(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:1},[Object(a["createElementVNode"])("div",Be,Object(a["toDisplayString"])(o.commentDialog.long.length)+" 条长评",1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.commentDialog.long,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:e.id,id:e.id,author:e.author,content:e.content,avatar:e.avatar,time:e.time,likes:e.likes,reply:e.reply},null,8,["id","author","content","avatar","time","likes","reply"]))),128)),Object(a["createElementVNode"])("div",xe,Object(a["toDisplayString"])(o.commentDialog.short.length)+" 条短评",1),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(o.commentDialog.short,e=>(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:e.id,id:e.id,author:e.author,content:e.content,avatar:e.avatar,time:e.time,likes:e.likes,reply:e.reply},null,8,["id","author","content","avatar","time","likes","reply"]))),128))],64))]),Object(a["createElementVNode"])("div",Se,[Object(a["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=e=>o.commentDialog.visible=!1)},"关闭")])])],2),(Object(a["openBlock"])(),Object(a["createBlock"])(a["Teleport"],{to:"#navbar-item"},[Object(a["createElementVNode"])("button",Ce,[Object(a["createVNode"])(d,{color:"#fff",icon:"M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z"},null,8,["icon"]),Object(a["createElementVNode"])("span",De,Object(a["toDisplayString"])(o.extra.popularity),1)]),Object(a["createElementVNode"])("button",{class:"btn btn-sm bg-primary d-flex ml-1",style:{"align-items":"center"},onClick:t[2]||(t[2]=e=>{o.commentDialog.visible=!0,o.loadComment()})},[Object(a["createVNode"])(d,{color:"#fff",icon:"M9,22A1,1 0 0,1 8,21V18H4A2,2 0 0,1 2,16V4C2,2.89 2.9,2 4,2H20A2,2 0 0,1 22,4V16A2,2 0 0,1 20,18H13.9L10.2,21.71C10,21.9 9.75,22 9.5,22V22H9M5,5V7H19V5H5M5,9V11H13V9H5M5,13V15H15V13H5Z"},null,8,["icon"]),Object(a["createElementVNode"])("span",we,Object(a["toDisplayString"])(o.extra.comments),1)])]))],64))}c("5319"),c("2b3d");const Le={class:"text-bold h5",style:{margin:"16px 0"}},Me={key:0,class:"my-2"},He={key:0,class:"avatar avatar-lg mr-2 bg-gray float-left"},$e=["src"],Te={key:1},Fe={class:"text-bold"},_e={class:"text-gray text-ellipsis"},qe=["innerHTML"],Pe=["href"];function ze(e,t,c,o,l,n){return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",Le,Object(a["toDisplayString"])(c.title),1),c.avatar||c.author||c.bio?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Me,[c.avatar?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",He,[Object(a["createElementVNode"])("img",{src:c.avatar},null,8,$e)])):Object(a["createCommentVNode"])("",!0),c.author||c.bio?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Te,[Object(a["createElementVNode"])("div",Fe,Object(a["toDisplayString"])(c.author),1),Object(a["createElementVNode"])("div",_e,Object(a["toDisplayString"])(c.bio||" "),1)])):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0),Object(a["createElementVNode"])("div",{ref:"container",innerHTML:c.content},null,8,qe),c.discuss?(Object(a["openBlock"])(),Object(a["createElementBlock"])("a",{key:1,href:c.discuss,class:"btn d-block mt-2",style:{"margin-bottom":"24px"},target:"_blank"},"查看知乎讨论",8,Pe)):Object(a["createCommentVNode"])("",!0)],64)}c("13d5");const Ie=new IntersectionObserver(e=>e.reduce((e,t)=>(t.isIntersecting&&e.push(t.target),e),[]).forEach(e=>{const t=new Image,c=e.getAttribute("data-src");t.onload=t.onerror=()=>{e.src=c,e.removeAttribute("data-src"),e.style.cssText="",e.classList.remove("s-rounded")},t.src=c,Ie.unobserve(e)}));var Re={props:{title:String,author:String,bio:String,avatar:String,origin:String,discuss:String,content:String},setup(){const e=Object(a["ref"])(null);let t;return Object(a["onMounted"])(()=>{t=Array.from(e.value.querySelectorAll("img[data-src]")),Object(a["nextTick"])(()=>t.forEach(e=>Ie.observe(e)))}),Object(a["onBeforeUnmount"])(()=>t.forEach(e=>Ie.unobserve(e))),{container:e}}};Re.render=ze;var Ye=Re;const We={class:"tile my-2"},Ue={class:"tile-icon"},Ze={class:"avatar bg-gray"},Qe=["src"],Ge={class:"tile-content"},Je={class:"tile-title d-flex"},Ke={class:"text-bold"},Xe=Object(a["createElementVNode"])("div",{style:{"flex-grow":"1"}},null,-1),et={class:"text-gray d-flex",style:{"align-items":"center"}},tt={class:"ml-1"},ct={class:"tile-subtitle"},at={style:{"white-space":"pre-wrap"}},ot={key:0,class:"p-2 s-rounded",style:{"background-color":"#f7f7f7"}},lt={class:"text-bold"},nt={style:{"white-space":"pre-wrap"}},rt={class:"text-gray"};function it(e,t,c,o,l,n){const r=Object(a["resolveComponent"])("mdi");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",We,[Object(a["createElementVNode"])("div",Ue,[Object(a["createElementVNode"])("div",Ze,[Object(a["createElementVNode"])("img",{src:c.avatar},null,8,Qe)])]),Object(a["createElementVNode"])("div",Ge,[Object(a["createElementVNode"])("div",Je,[Object(a["createElementVNode"])("div",Ke,Object(a["toDisplayString"])(c.author),1),Xe,Object(a["createElementVNode"])("div",et,[Object(a["createVNode"])(r,{small:"",color:"#bcc3ce",icon:"M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z"},null,8,["icon"]),Object(a["createElementVNode"])("span",tt,Object(a["toDisplayString"])(c.likes),1)])]),Object(a["createElementVNode"])("div",ct,[Object(a["createElementVNode"])("div",at,Object(a["toDisplayString"])(c.content),1),c.reply.content?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ot,[Object(a["createElementVNode"])("span",lt,Object(a["toDisplayString"])(c.reply.author)+"：",1),Object(a["createElementVNode"])("span",nt,Object(a["toDisplayString"])(c.reply.content),1)])):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("small",rt,Object(a["toDisplayString"])(`${c.time.getFullYear()}-${(c.time.getMonth()+1).toString().padStart(2,0)}-${c.time.getDate().toString().padStart(2,0)}`)+" "+Object(a["toDisplayString"])(`${c.time.getHours().toString().padStart(2,0)}:${c.time.getMinutes().toString().padStart(2,0)}:${c.time.getSeconds().toString().padStart(2,0)}`),1)])])}var st={components:{Mdi:oe},props:{id:Number,author:String,content:String,avatar:String,time:Date,likes:Number,reply:Object}};st.render=it;var dt=st,bt={components:{LoadingCircle:P,Question:Ye,Comment:dt,Mdi:oe},setup(){const{proxy:e}=Object(a["getCurrentInstance"])(),t=Object(a["ref"])(!1),c=Object(a["reactive"])([]),o=Object(a["ref"])(""),l=Object(a["ref"])(""),n=Object(a["ref"])(""),r=Object(a["reactive"])({longComments:0,shortComments:0,popularity:0,comments:0}),i=Object(a["reactive"])({visible:!1,loading:!0,loaded:!1,long:[],short:[]}),s=Object(g["useRoute"])().params.id,d=async()=>{t.value=!0;const[a,i]=await Promise.all([e.$http.get("news/"+s),e.$http.get("story-extra/"+s)]);o.value=a.data.title,l.value=a.data.image,n.value=a.data.image_source,r.longComments=i.data.long_comments,r.shortComments=i.data.short_comments,r.popularity=i.data.popularity,r.comments=i.data.comments;const d=(new DOMParser).parseFromString(a.data.body,"text/html");Array.from(d.querySelectorAll(".question")).forEach(e=>{var t,a,o,l,n;const r=null==(t=e.querySelector(".question-title"))?void 0:t.innerText,i=null==(a=e.querySelector(".meta .author"))?void 0:a.innerText.replace(/，$/,""),s=null==(o=e.querySelector(".meta .bio"))?void 0:o.innerText,d=null==(l=e.querySelector(".meta img.avatar"))?void 0:l.src,b=null==(n=e.querySelector(".meta .originUrl"))?void 0:n.href,m=e.querySelector(".view-more");let u;var p;m&&(u=null==(p=m.querySelector("a"))?void 0:p.href,m.parentNode.removeChild(m));const O=e.querySelector(".content");Array.from(O.querySelectorAll("p")).forEach(e=>{e.innerHTML.replace(/&nbsp;/," ").trim()||e.parentNode.removeChild(e)}),Array.from(O.querySelectorAll("img.content-image")).forEach(e=>{const t=e.parentNode,c=t.parentNode;if(e.setAttribute("data-src",e.src),e.src="data:image/gif;base64,R0lGODdhAQABAIAAAPf39wAAACwAAAAAAQABAAACAkQBADs=",e.style.cssText="width:100%;height:240px",e.classList.add("s-rounded","img-responsive"),"p"!==t.tagName){const a=document.createElement("p");a.appendChild(e),c.insertBefore(a,t),c.removeChild(t)}}),Array.from(O.querySelectorAll("a")).forEach(e=>{e.href.match(/^https?:\/\/link\.zhihu\.com\/\?target=/)&&(e.href=decodeURIComponent(new URL(e.href).searchParams.get("target")))}),Array.from(O.querySelectorAll("pre")).forEach(e=>{e.style.overflowY="auto"});const j=O.innerHTML;c.push({title:r,author:i,bio:s,avatar:d,origin:b,discuss:u,content:j})}),t.value=!1},b=async()=>{if(i.loaded)return;i.loading=!0;const[t,c]=await Promise.all([e.$http.get(`./story/${s}/long-comments`),e.$http.get(`./story/${s}/short-comments`)]);i.long=t.data.comments.map(e=>(e.time=new Date(1e3*e.time),e.reply_to?(e.reply=e.reply_to,delete e.reply_to):e.reply={},e)),i.short=c.data.comments.map(e=>(e.time=new Date(1e3*e.time),e.reply_to?(e.reply=e.reply_to,delete e.reply_to):e.reply={},e)),i.loading=!1,i.loaded=!0};return Object(a["onMounted"])(d),{loading:t,questions:c,title:o,image:l,credit:n,extra:r,commentDialog:i,loadComment:b}}};bt.render=Ae;var mt=bt;const ut=[{path:"/",component:ie,meta:{keepAlive:!0}},{path:"/about",component:ge,meta:{keepAlive:!0}},{path:"/story/:id(\\d+)",component:mt}],pt=Object(g["createRouter"])({history:Object(g["createWebHashHistory"])(),routes:ut});var Ot=pt;const jt=Object(a["createApp"])(j);jt.config.globalProperties.$http=l.a.create({baseURL:"https://zhihu-daily.transparentlc.workers.dev/api/4/"}),jt.use(Ot).mount("#app")},6389:function(e,t){e.exports=VueRouter},"8bbf":function(e,t){e.exports=Vue},cebe:function(e,t){e.exports=axios}});